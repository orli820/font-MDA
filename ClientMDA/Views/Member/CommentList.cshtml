
@{
    ViewData["Title"] = "CommentList";
}

<head>
    <link href="~/css/Member/MemberMain.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <link href="~/css/Member/modal.css" rel="stylesheet" />
    <style>
        .white {
            color: white;
        }

        .table-hover tbody tr:hover {
            color: #00b0f0;
            background-color: rgba(0,0,0,.075);
        }
    </style>
</head>

<body>
    <div class="member_id">
        <span class="member_hello">HELLO!</span>
        <span class="member_id_name"></span>
    </div>
    <div class="row">
        <div class="member_menu">
            <a id="watchlist" href="../Member/WatchList" title="我的片單" class="member_link">我的片單</a>
            <a id="commentList" href="../Member/CommentList" title="我的評論" class="member_link">我的評論</a>
            @*<a id="wishlist" href="../Member/wishlist" title="收藏清單" class="member_link">收藏清單</a>*@

            <a id="orderlist" href="../Member/orderlist" title="訂單查詢" class="member_link">訂單查詢</a>
            <a id="memberbonuslist" href="../Member/memberbonuslist" title="我的紅利金" class="member_link">我的紅利金</a>
            <a id="memberdiscount" href="../Member/memberdiscount" title="我的抵用券" class="member_link">我的抵用券</a>

            <a id="memberpassword" href="../Member/PasswordEdit" title="密碼修改" class="member_link">密碼修改</a>
            <a id="MemberEdit" href="../Member/MemberEdit" title="資料修改" class="member_link ">資料修改</a>
            <a href="../Member/logout" class="member_link" title="登出">登出</a>
        </div>
        <div class="member_main">
            <div class="member_area white">
                <!--content-->
                <h2 class="white">我的評論一覽</h2>
                <button id="buttonAdd" class="site-btn mt-3 mb-3">
                    <i class="fa fa-plus"> 撰寫評論</i>
                </button>
                <table class="table table-hover white">
                    <thead>
                        <tr>
                            <th scope="col">序</th>
                            <th scope="col">標題</th>
                            <th scope="col">內文</th>
                            <th scope="col">發布時間</th>
                            <th scope="col">編輯</th>
                        </tr>
                    </thead>
                    <tbody class="white">
                        <tr>
                            <th scope="row" class="">1</th>
                            <td class="">專題∣《幸福入場券》之外！５部茱莉亞羅勃茲主演浪漫愛情喜劇</td>
                            <td class="">好久不見的「經典」好萊塢喜劇《幸福入場券 Ticket to Paradise》來了。之所以稱之「經典」，並不是因為它已經...</td>
                            <td class="">2022/10/02</td>
                            <td>
                                <button type="button" class="btn btn-link">編輯</button>
                                <button type="button" class="btn btn-link del" data-toggle="modal" data-target="#exampleModal">刪除</button>
                            </td>
                        </tr>
                        <tr>
                            <th scope="row" class="">2</th>
                            <td class="">專題∣必看《阿凡達》的５大理由重溫：看完再迎《阿凡達2：水之道》！</td>
                            <td class="">2009年的好萊塢電影《阿凡達》是部殿堂級電影，是大導演詹姆斯卡麥隆在《鐵達尼號》之後傾注心力所打造的鉅...</td>
                            <td class="">2022/09/19</td>
                            <td>
                                <button type="button" class="btn btn-link">編輯</button>
                                <button type="button" class="btn btn-link del" data-toggle="modal" data-target="#exampleModal">刪除</button>
                            </td>
                        </tr>
                        <tr>
                            <th scope="row" class="">3</th>
                            <td class="">專題∣《死侍3》影片公開：你可能錯過的５個彩蛋詳解</td>
                            <td class="">真是萬萬沒想到！萊恩雷諾斯近期用推特公佈《死侍3》的上映日期，不僅如此，最令人驚喜的莫過於休傑克曼將以...</td>
                            <td class="">2022/10/02</td>
                            <td>
                                <button type="button" class="btn btn-link">編輯</button>
                                <button type="button" class="btn btn-link del" data-toggle="modal" data-target="#exampleModal">刪除</button>
                            </td>
                        </tr>
                        <tr id="comment4">
                            <th scope="row" class="commentLink4">4</th>
                            <td class="commentLink4">
                                不只關於速度與飛翔的渴望 也與我們的悔恨以及所需要的勇氣有關
                            </td>
                            <td class="commentLink4">湯姆．克魯斯的《捍衛戰士：獨行俠》在各地試映過後，隨即得到了一片熱烈好評， 並被不少人稱為一定要進戲院欣賞的超級大片...</td>
                            <td class="commentLink4">2022/09/23</td>
                            <td>
                                <button type="button" class="btn btn-link">編輯</button>
                                <button type="button" class="btn btn-link del" data-modal-target="#modal">刪除</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <!--end content-->
            </div>
        </div>
    </div>


</body>

<script>
    const com = document.querySelectorAll(".commentLink4")

    com.forEach(c=>c.addEventListener("click", () => {
        console.log("check")
        window.location.assign('@Url.Content("~/comment/")'+encodeURI("會員評論"))
    }))
</script>
<script>
    const btns = document.querySelectorAll(".del")


    function showModal(titleHtml, contentHtml, buttons) {
        const modal = document.createElement("div");

        modal.classList.add("modal");
        modal.innerHTML = `
        <div class="modal__inner">
            <div class="modal__top">
                <div class="modal__title">${titleHtml}</div>
                <button class="modal__close" type="button">
                    <span class="material-icons"><i class="fa fa-times" aria-hidden="true"></i></span>
                </button>
            </div>
            <div class="modal__content">${contentHtml}</div>
            <div class="modal__bottom"></div>
        </div>
    `;

        for (const button of buttons) {
            const element = document.createElement("button");
            element.setAttribute("type", "button");

            if (button.triggerClose) {
                element.classList.add("btn-secondary");
            }
            else { element.classList.add("btn-danger"); }
            element.classList.add("modal__button");
            element.textContent = button.label;
            element.addEventListener("click", () => {
                if (button.triggerClose) {
                    document.body.removeChild(modal);
                }

            });

            modal.querySelector(".modal__bottom").appendChild(element);
        }

        modal.querySelector(".modal__close").addEventListener("click", () => {
            document.body.removeChild(modal);
        });

        document.body.appendChild(modal);
    }

    btns.forEach(btn => btn.addEventListener('click', () => {

        showModal("刪除評論", '<span id="c">確定要刪除嗎?</span><p class= "font-italic" id="c"> 注意: 此動作無法復原</p>', [
            {
                label: "取消",
                triggerClose: true
            },
            {
                label: "確定刪除",
                triggerClose: false
            }
        ])

    }))


</script>

<script src='https://kit.fontawesome.com/a076d05399.js' crossorigin='anonymous'></script>